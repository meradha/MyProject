
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">





<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script type="text/javascript">
console.log( '475');
var CURRENTUSER = {
	ID		: '475',
	NAME 	: 'Komal Sonawane',
	USERNAME 	: 'conmh.vv@gmail.com',
	CID 	: '223',
	ROLE	: 'CO',
	RoleId	: '6',
	PMID 	: '0',
	POID 	: '0',
	stateId :	'0',
	regionId :	'0',
	pmIdSuperior:'0',
	CODE 	: 'MH59',
}
 
function isNumberKey(evt){
    var charCode = (evt.which) ? evt.which : event.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
    return true;
}    
</script>
</head>
<body>
</body>
</html>
     <title>Saksham Against TB Application</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/simplePagination.css" rel="stylesheet">
    <!-- Custom CSS -->
	<link href="new-sb-admin.css" rel="stylesheet">
    <link href="css/simple-sidebar.css" rel="stylesheet">
	   
 <script src="js/jquery.js"></script>
<link href="css/confirm.css" rel="stylesheet">
	<script src="js/alert.min.js"></script>
	<script src="js/jquery.twbsPagination.min.js"></script>
    <!-- jQuery -->

    <script src="js/pagination.js"></script>
<!--   <script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>  
    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
	 <script src="js/user.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<style type="text/css">
/* .label  {
	color: #0F0F0F !important;
	font-weight: 600 !important;
	font-size: 18px !important;
	padding-left: 0px !important;
	word-wrap: break-word !important;
	white-space: normal !important;
	line-height: 34px !important;
} */
.pagination-sm>li a, .pagination-sm>li span
{
    width: auto;
    line-height: 1;
    font-size: 13px;
    padding: 7px 8px;
    height: auto;
    font-family: Verdana, Geneva, sans-serif;
    color: #090909;
}
#pagination-demo
{
float:right;
}
.pagination-sm .page-item.active a
{
background:#07396c;

}
</style>
</head>

<body>

    <div id="wrapper">

        <!-- Sidebar -->
        	<!--@author santhosh.k  -->
	<!-- Sidebar -->
	  
	
	<script type="text/javascript" src="js/lib/jquery/jquery.nimble.loader.js"></script>
	   
	                <script>
	              
	                $(document).ready(function() {
	                	 $('ul.submenu').hide();
	                	 $('ul.sidebar-nav > li').click(function () {
	                		 if ($(this).hasClass("haveSubMenu2")) {
	                			 $('ul.submenu').hide('slow');
	                    		 $(this).removeClass("haveSubMenu2");
	                			}
	                		 else
	                			 {
	                			 $('ul.submenu').hide('slow');
	                			 $('ul.sidebar-nav > li').removeClass("haveSubMenu2");
	                    		 $(this).find('ul.submenu').toggle('slow');
	                    		 $(this).addClass("haveSubMenu2");
	                			 }
	                		
	                	 });
	                	 
	                	 $(".logout_icon").click(function(){
	                	  window.location.href = "home.htm?actionName=signout";
	                	 });
	                	 
	                	  });
	                </script>
			<div id="sidebar-wrapper">
	            <ul class="sidebar-nav">
	               <li class="sidebar-brand">
	                   
	                       <i class="fa fa-user" aria-hidden="true"></i>
	                   <p>Role: CO</p>
	                   
					   <p>Region:Thane Region  </p>
					   
					    
					   <p>District: Vasai virar</p>
					    
					     
					   <p>State: Maharashtra</p>
					   
	                </li>
	                
	                <!-- <li>
	                    <a href="login">Login</a>
	                </li> -->
	                  <li>
	                    <a href="dashboardController.htm?screenType=annualIndicatorReport"> Indicator Report</a>
	                </li>
	                
	                
	                  
	                 
	            
	                 
	                 
	                
	           		<li>
	                    <a href="dashboardController.htm?screenType=cmpMonthlyReport">Counselor Monthly Report</a>
	                </li>
	                <li>
	                    <a href="dashboardController.htm?screenType=cmpReport">Counsellor Monthly Plan </a>
	                </li>
	                  <!-- <li>
	                    <a href="dashboardController.htm?screenType=addNotification">Add Notification</a>
	                </li> -->
	                 <li>
	                    <a href="dashboardController.htm?screenType=notificationList">Notification List</a>
	                </li>
	                 
	                
	                
	                <li class="crud haveSubMenu">
	                    <a>Registration</a>
	                 <ul class="submenu">
	                <li class="index">
	                    <a href="patientRegistrationcontroller.htm">Patient Registration</a>
	                </li>
	                 <li class="index"><!--  Previous Name is Pre-Sakham -->
	                    <a href="patientRegistrationcontroller.htm?screenFromPresakham=presakham&screenType=PreSaksham">Previous Quarter Patient Registration</a>
	                </li> 
	                <li class="index">
	                    <a href="dashboardController.htm?screenType=drtb">DR TB Registration</a>
	                </li>
	                <li class="index">
	                    <a href="dashboardController.htm?screenType=inform">Base line Registration</a>
	                </li>
	                 </ul>
					</li>
					     
					<li class="crud haveSubMenu">
	                    <a>View</a>
	                 <ul class="submenu">
	               <li>
	                    <a href="dashboardController.htm?screenType=view">View Patients </a>
	                </li>
	                <li>
	                    <a href="dashboardController.htm?screenType=viewDRTB">View DRTB Patients</a>
	                </li>
	                 <li>
	                    <a href="dashboardController.htm?screenType=viewPreSaksham">View Previous Quarter Patient</a>
	                </li>
	                <li>  <!--  Previous Name is Pre-Sakham -->
	                    <a href="dashboardController.htm?screenType=viewPreSakshamFollowUp">View Previous Quarter Patient Follow-up</a>
	                </li>
	                  <li>
	                    <a href="dashboardController.htm?screenType=viewFollowup">View Follow-Ups</a>
	                </li>
	                  <li> <!-- Previous Name is View Lost To Follow-Ups -->
	                    <a href="dashboardController.htm?screenType=viewLTF">View Patient Not Taking Treatment Since 1 Month</a>
	                </li>  
	                 <li>
	                    <a href="dashboardController.htm?screenType=viewRefer">View Referral Patient </a>
	                </li>  
	                  <li>
	                    <a href="dashboardController.htm?screenType=viewCareGiver">View Caregiver</a>
	                </li>
	                  <li>
	                    <a href="dashboardController.htm?screenType=viewBaseline">View Baseline</a>
	                </li>
	                
	                
	                
	                 </ul>
					</li>
	                    <li class="dashboard">
	                    <a href="dashboardController.htm?screenType=dashboard">Dashboard</a>
	                </li> 
	                 
	                <li class="crud haveSubMenu">
	                    <a>Leave Management</a>
	                 <ul class="submenu">
	                 
	                 
	                  
	                  <li><a href="dashboardController.htm?screenType=leaveManagement&flag=applyLeave&userid=475">Apply Leave</a></li>
	                 
	                  <li><a href="dashboardController.htm?screenType=holidayInfo&flag=holidays&userid=475">Holidays List</a></li>
	                 </ul>
	                </li>
	                 <li class="crud haveSubMenu">
	                    <a>Attendance</a>
	                 <ul class="submenu">
	                 
	                  <li><a href="dashboardController.htm?screenType=viewAttendance">View Attendance</a></li>
	                 </ul>
	                </li>
	                 
	                  
	                <li class="crud haveSubMenu">
	                    <a>Knowledge Base</a>
	                 <ul class="submenu">
	                 
	                  <li><a href="dashboardController.htm?screenType=searchScreen&flag=searchScreen&start=0&limit=10&userid=475">Search File</a>
	                 </ul>
	                </li>
	                     
	                  <li>
	                    <a href="dashboardController.htm?screenType=Gcs">Group Counselling</a>
	                </li>
	                
	                <!-- <li class="logout">
	                    <a href="dashboardController.htm?screenType=sendBulkSms">Send Bulk SMS</a>
	                </li> -->
	               
	               
	                  <li class="logout">
	                    <a href="dashboardController.htm?screenType=datadownload">Excel Download</a>
	                </li>
					
	               
	                
	                 
	                
	                 
	
	                    <li class="logout">
	                    <a href="home.htm?actionName=signout">Logout</a>
	                </li>
	               
	               
	                    
	                    
	                <!-- <li class="crud">
	                    <a href="dashboardController.htm?screenType=crud">Edit User</a>
	                </li>
	                
					<li class="Manage State">
	                    <a href="dashboardController.htm?screenType=state">Manage State</a>
	                </li>
	                <li class="Manage District">
	                    <a href="dashboardController.htm?screenType=district">Manage District</a>
	                </li>
	                <li class="Healthcare Provider">
	                    <a href="dashboardController.htm?screenType=healthcareprovider">Healthcare Provider</a>
	                </li>
	                <li class="Health Service">
	                    <a href="dashboardController.htm?screenType=healthservice">Health Service</a>
	                </li>
	                 <li class="Stigma Master">
	                    <a href="dashboardController.htm?screenType=stigmamaster">Stigma Master</a>
	                </li>
	               <li class="Treatment Category">
	                    <a href="dashboardController.htm?screenType=treatmentcategory">Treatment Category</a>
	                </li>
	                <li class="Unemployment  Cause">
	                    <a href="dashboardController.htm?screenType=unemploymentcause">Unemployment  Cause</a>
	                </li>
	                <li class="Verified DrTbStatus With Card">
	                    <a href="dashboardController.htm?screenType=verifieddrtbstatuswithcard">Verified DrTbStatus With Card</a>
	                </li>
	                <li class="Verified Phase With Card">
	                    <a href="dashboardController.htm?screenType=verifiedphasewithcard">Verified Phase With Card</a>
	                </li>
	                <li class="Verified TbType With Card">
	                    <a href="dashboardController.htm?screenType=verifiedtbtypewithcard">Verified TbType With Card</a>
	                </li>
	                <li class="Visited Place">
	                    <a href="dashboardController.htm?screenType=visitedplace">Visited Place</a>
	                </li>
	                <li class="Locality Type">
	                    <a href="dashboardController.htm?screenType=localitytype">Locality Type</a>
	                </li>
	                 <li class="Education Qualification">
	                    <a href="dashboardController.htm?screenType=educationqualification">Education Qualification</a>
	                </li>
	                <li class="Staying With">
	                    <a href="dashboardController.htm?screenType=stayingwith">Staying With</a>
	                </li>
	                <li class="Occupation">
	                    <a href="dashboardController.htm?screenType=occupation">Occupation</a>
	                </li>
	                <li class="Householder Type">
	                    <a href="dashboardController.htm?screenType=householdertype">Householder Type</a>
	                </li>
	                <li class="Householders Income Range">
	                    <a href="dashboardController.htm?screenType=householdersincomerange">Householders Income Range</a>
	                </li>
	                <li class="Marriage status">
	                    <a href="dashboardController.htm?screenType=masterdatatable">Marriage status</a>
	                </li> -->
	            </ul>
	        </div>
	        
	  
        <!-- <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">
                       Quick Links
                    </a>
                </li>
                <li>
                    <a href="login.html">Login</a>
                </li>
                <li>
                    <a href="index.html">Patient Registration</a>
                </li>
                <li>
                    <a href="caregiver.html">Caregiver Registration</a>
                </li>
				 <li>
                    <a href="referral.html">Refer Patient</a>
                </li>
				<li>
                    <a href="follow.html">Caregiver Follow-up</a>
                </li>
                <li>
                    <a href="lost.html">Patient Follow-Up</a>
                </li>
                <li>
                    <a href="createuser.html">Create User</a>
                </li>
                <li>
                    <a href="crud.html">Edit User</a>
                </li>
				<li class="active">
                    <a href="view.html">View Patient</a>
                </li>
                
				
            </ul>
        </div> -->
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
		           <div id="page-content-wrapper">
				  <a href="#menu-toggle" class="btn btn-default" id="menu-toggle"></a>
		           <div class="container-fluid">
		         <div class="container-fluid page_content">
		            <div class="row">
		               <div class="col-lg-12 col-md-12">
		                  <a href="index.html"><img class="innerlogo" src="images/logo1.png"></a>
						  <h1 class="registration_form">View CareGiver</h1>
						   <img class="innerlogo logoright" src="images/logo2.png">
		               </div>
		            </div>
            <div class="row">
               <div class="col-lg-12 col-md-12">
                  
			<table class="right_table_search" width="100%" cellpadding="0" cellspacing="0">
			<tr>
			<td width="230"><input type="text" placeholder="Patient Name" id="patientName"></td>
			<td><button type="button" class="btn btn-primary" id="searchByPatientID">View</button></td>
			<td width="230"><input type="text" placeholder="CareGiver Name" id="caregiverName"></td>
			<td><button type="button" class="btn btn-primary" id="searchByCaregiverName">Search</button></td>
			</tr>
			</table>
                <div class="middle_content">
                    
                     <h3 class="patient_list">Care Giver's List</h3>
					  <div class="viewbuttonlist">
                         
                     </div>
                      <table class="table table-bordered" id="tableData" >
                        <thead>
                           <tr>
						   <!--   <th width="40"></th> -->
                              <th>Patient Name</th>
                              <th>CareGiver Name</th> 
                              <th>Patient Mobile Number/Care Giver Mobile Number</th> 
                              <th>Relationship with patient</th>
                              <th>Patient Follow-Up-Date</th>
                              <th>Patient Current priority</th>
                           </tr>
                        </thead>
                        <tbody id="tableBody" class="input_box1">

                        </tbody>
                    </table>
                     
                    <div>
						<ul id="pagination-demo" class="pagination-sm"></ul>
					</div>
                </div>
               </div>
            </div>
            <!-- /.container-fluid -->
         </div>
         <!-- /#page-wrapper -->
      </div>
        </div>
        <!-- /#page-content-wrapper -->
      <div class="footer navbar-fixed-bottom">
         <p class="mbr-footer__copyright_left">© 2016  <a href="http://www.tiss.edu/" style="color:#FDE6A2; text-decoration:none;" target="_blank">Tata Institute of Social Sciences</a>, All rights reserved.&nbsp;</p>
         <p class="mbr-footer__copyright_right">Designed and Developed by  <a href="http://www.empover.com" style="color:#2095F9; text-decoration:none;" target="_blank">Empover i-Tech</a></p>
      </div>
    </div>
    <!-- /#wrapper -->

<!-- popup content -->
<!-- popup content -->
<div id="popup">
   <!-- Page Content -->
   <div id="page-content-wrapper">
      <div class="container-fluid">
         <div class="container-fluid page_content">
            <div class="row">
               <div class="col-lg-12 col-md-12">
                  <a id="closePopup" onclick="myfunctionClose()">X</a>
                  <h1 class="h1registration_form">Caregiver Registration Form</h1>
                  <div class="row price_table_row">
                     <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="middle_content">
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Saksham Patient ID : </span><span class="input_box1" id="sakshamPatientId1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Patient Name (पेशेंट का पूरा नाम) : </span><span class="input_box1" id="patientName1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Name of the Caregiver (देखभालकर्ता का नाम ) : </span><span class="input_box1" id="name1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Relationship with patient (देखभालकर्ता का पेशेंट से रिश्ता ) : </span>
                                 <span class="input_box1" id="relationshipWithPatient1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">CareGiver has provided consent for counselling : </span>
                                 <span class="input_box1" id="consentForCouseling1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">CareGiver agreed to share details about self : </span>
                                 <span class="input_box1" id="shareDetails1"></span>
                              </div>
                           </div>
                           <!--   <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">CareGiver has provided consent for receiving SMS from Saksham : </span>
                                 <span class="input_box1" id="contentToReceiveSMS1"></span>
                              </div>
                              </div> -->
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Mobile (मोबाइल) : </span><span class="input_box1" id="mobile1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Age (in completed years)(पशेंट की उम्र (पुरे किये हुए साल में ) :</span>
                                 <span class="input_box1" id="age1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12" >	
                                 <span class="label">Sex (पेशेंट का लिंग) : </span>
                                 <span class="input_box1" id="gender1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12" >	
                                 <span class="label">Date of registration :</span>
                                 <span class="input_box1" name="regDate"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12" >	
                                 <span class="label">Place of visit:</span>
                                 <span class="input_box1" name="placeOfVisit1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Any Past history of TB (देखभालकर्ता को कभी जीवन में TB की बीमारी हुयी है) ? :</span>
                                 <span class="input_box1" id="hasHistoryTBSymptoms1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">If Yes, Type of Tuberculosis :</span><span class="input_box1" id="tbType1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Organ affected ( कौनसे शरीर के अंग में ह) : </span>
                                 <span class="input_box1" id="OrganAffected1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">If Yes, TB category (यदि हाँ, TB रोग के प्रकार) : </span>
                                 <span class="input_box1" id="tbStatus1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">If Yes, Treatment outcome (यदि हाँ, उपचार के परिणाम) : </span>
                                 <span class="input_box1" id="treatmentOutcome1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Care giver's history of substance use (पदार्थ उपयोग की देखभाल दाता के इतिहास) : </span>
                                 <span class="input_box1" id="historyCareGiverSubstance1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Care giver's history of substance use ,Other : </span>
                                 <span class="input_box1" id="otherHistoryCareGiverSubstance1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Patient's history of substance use (पदार्थ का उपयोग के मरीज की इतिहास) : </span>
                                 <span class="input_box1" id="historyPatientSubstance1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Patient's history of substance use , Other: </span>
                                 <span class="input_box1" id="otherHistoryPatientSubstance1"></span>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Counselling Topics: (Make use of counselling guideline) </span><span class="input_box1" id="careGiverCouncelingTopics1"></span>
                              </div>
                           </div>
                           <!--   <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Other counselling Topics:</span><span class="input_box1" name="careGiverCouncelingTopics_text1"></span>
                              </div>
                              </div> -->
                           <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Counsellor remarks : </span><span class="input_box1" id="remarks1"></span>
                              </div>
                           </div>
                           <!-- 					 <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">If any TB symptoms seen in caregiver, referred for testing : </span><span class="input_box1" id="referredForTesting1"></span>
                              </div>
                              </div>
                              <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Next follow-up on (अगली मुलाकात की तारीख ) :</span><span class="input_box1" id="nextFollowUpDate1"></span>
                              </div>
                              </div>
                              <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Place of follow up : </span><span class="input_box1" id="followUpPlaceType1"></span>
                              </div>
                              </div>
                              <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Comments of the counsellor (काउंसलर की टिप्पणिया) : </span>
                                 <span class="input_box1" id="commentsByCounselor1"></span>
                              </div>
                              </div>
                              <div class="row">
                              <div class="col-lg-12 col-md-12 col-sm-12">	
                                 <span class="label">Name of counsellor (काउंसलर की नाम) : </span><span class="input_box1" id="councelorName1"></span>
                              </div>
                              </div> -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
   

</body>
<script type="text/javascript">
var data=[];
var availableTags = [];
var patientNames=[];
var caregiverNames=[];
var careGiverId=0;
	
$( document ).ready(function() {
	

	function getRecords(start,end){
		var data={};

		data.id=CURRENTUSER.ID;
		data.start=start;
		data.end=end;
		var html="";
		var div='';

		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		     url: "./rest/view/getAllCareGivers",
		   contentType: "application/json;charset=utf-8",
		 	dataType: "json",
		   data: JSON.stringify(data),
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		var html='';
		        		for(i=0;i<data.length;i++){
		        			html = html+"<tr  count="+data[i].count+" displayname='"+data[i].careGiverId+"' id='"+data[i].careGiverId+
		        				"' ondblclick='preview(this.id)'><td>"
								+ data[i].patientName+ "</td><td>"	+ data[i].careGiverName+ "</td><td>"	+ data[i].mobileNo+ "/"+data[i].careGiverMobileNo+"</td><td>"+ data[i].relationshipWithPatient+ "</td><td>"+ data[i].nextFollowUpDate+ "</td><td>"+ data[i].priority+ "</td></tr>"
		        		}
		        		$('#tableBody').empty();
		        		$('#tableBody').append(html);
		        		$('#tableData1').hide();
		        		$('#tableData').show();
		        		$('#pagination-demo').show();
		        		
		             total= (Math.ceil(data[0].count)/10) ;
		        		total=Math.ceil(total);
		            $('#pagination-demo').twbsPagination({
		            	 totalPages: (total==0?1:total),
		    		        visiblePages: 10,
		    		        onPageClick: function (event, page) {
		    		            $('#page-content').text('Page ' + page);
		    		            var start=(page*10);
		    					var end=(page*10);
		    					
		    					if(page==1){
		    						getMoreRecords(0,10)
		    					}else{
		    						var start=((page-1)*10);
			    					var end=(page*10);
		    						getMoreRecords(start,10)
		    					}
		    					
		    		        }
		    		    });
		        	return total;
		        	}
		        },
		           error: function(e) {
			        }
		        	
		});
		 }
	total=getRecords(0,10)

	function getMoreRecords(start,end){
		var data={};

		data.id=CURRENTUSER.ID;
		data.start=start;
		data.end=end;
		var html="";
		var div='';

		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		     url: "./rest/view/getAllCareGivers",
		   contentType: "application/json;charset=utf-8",
		 	dataType: "json",
		   data: JSON.stringify(data),
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		var html='';
		        		for(i=0;i<data.length;i++){
		        			html = html+"<tr  count="+data[i].count+" displayname='"+data[i].careGiverId+"' id='"+data[i].careGiverId+"' ondblclick='preview(this.id)'><td>"
							+ data[i].patientName+ "</td><td>"	+ data[i].careGiverName+ "</td><td>"	+ data[i].mobileNo+ "/"+data[i].careGiverMobileNo+"</td><td>"+ data[i].relationshipWithPatient+ "</td><td>"+ data[i].nextFollowUpDate+ "</td><td>"+ data[i].priority+ "</td></tr>"
	        		}
		        		  $('#tableBody').empty();
			        		$('#tableBody').append(html);
			        		$('#tableData1').hide();
			        		$('#tableData').show();
			        		$('#pagination-demo').show(); 
		        	return total;
		        	}
		        },
		           error: function(e) {
			        }
		        	
		});
		 }
	
	
	
$('#closePopup').click(function(){
	
	$("#wrapper").css("display", "block");
});

$("#patientName").keypress(function(e) {

	if($('#patientName').val().trim().length>=1){
		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		     url: "./rest/view/getCareGiverByPatientName",
	        contentType: "application/json;charset=utf-8",
	      	dataType: "json",
	        data: "{\"name\":\""+$('#patientName').val()+"\",\"id\":\""+CURRENTUSER.ID+"\"}",
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		availableTags.length=0;
		        		for(i=0;i<data.length;i++){
		        			availableTags[i]=data[i].patientName;
		        		}
		        		$("#patientName").autocomplete({
		        			source : availableTags
		        		});
		        	}
		        },
		           error: function(e) {
			        }
		        	
 });
		
	}
		if (e.which == 13) {
			$('#searchByPatientID').click();
		}
});

$('#caregiverName').keypress(function(e){
    if(e.which == 13){
    	 $('#searchByCaregiverName').click();
    }
});

$( "#caregiverName" ).keypress(function(){

	if($('#caregiverName').val().trim().length>=1){
		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		     url: "./rest/view/getCareGiverByCareGiverName",
	        contentType: "application/json;charset=utf-8",
	      	dataType: "json",
	        data: "{\"name\":\""+$('#caregiverName').val()+"\",\"id\":\""+CURRENTUSER.ID+"\"}",
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		availableTags.length=0;
		        		for(i=0;i<data.length;i++){
		        			availableTags[i]=data[i].careGiverName;
		        		}
		        		$("#caregiverName").autocomplete({
		        			source : availableTags
		        		});
		        	}
		        },
		           error: function(e) {
			        }
		        	
});
		
	}
  } );


$('#searchByPatientID').click(function(){
	var testData=$('#patientName').val();
	var popUpStep="popUpStep";
	var html=""
	sakshamId="";
	if(testData==""){
 		$('#tableData1').hide();
 		$('#tableData').show();
 		$('#pagination-demo').show();
	}else{
	
		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		        url: "./rest/view/getCareGiverByPatientName",
		        contentType: "application/json;charset=utf-8",
		      	dataType: "json",
		        data: "{\"name\":\""+$('#patientName').val()+"\",\"id\":\""+CURRENTUSER.ID+"\"}",
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		var html='';
		        		for(i=0;i<data.length;i++){
		        				html = html+"<tr  count="+data[i].count+" displayname="+data[i].careGiverId+" id="+data[i].careGiverId+" ondblclick='preview(this.id)'><td>"
								+ data[i].patientName+ "</td><td>"	+ data[i].careGiverName+ "</td><td>"	+ data[i].mobileNo+ "/"+data[i].careGiverMobileNo+"</td><td>"+ data[i].relationshipWithPatient+ "</td><td>"+ data[i].nextFollowUpDate+ "</td><td>"+ data[i].priority+ "</td></tr>"
		        		}
		        		  $('#tableBody1').empty();
			        		$('#tableBody1').append(html);
			        		$('#tableData').hide();
			        		$('#tableData1').show();
			        		$('#pagination-demo').hide(); 
		        	return total;
		        	}else{
		        		alert('incorrect search')
		        	}
		        },
		           error: function(e) {
			        }
		        	
		});

	}
	
});


$('#searchByCaregiverName').click(function(){
	var testData=$('#caregiverName').val();
	var popUpStep="popUpStep";
	var html=""
	sakshamId="";
	if(testData==""){
		$('#tableData1').hide();
 		$('#tableData').show();
 		$('#pagination-demo').show();
	}else{
		 $.ajax({
		        type: "POST",
		        encoding:"UTF-8",
		        url: "./rest/view/getCareGiverByCareGiverName",
		        contentType: "application/json;charset=utf-8",
		      	dataType: "json",
		        data: "{\"name\":\""+$('#caregiverName').val()+"\",\"id\":\""+CURRENTUSER.ID+"\"}",
		         headers: {
				        "X-Authorization": "",
				        "code": "xyz",
				        "requestType":"web"
				    }, 
		        success: function(data) {
		        	if(data.length>0){
		        		var html='';
		        		for(i=0;i<data.length;i++){
		        				html = html+"<tr  count="+data[i].count+" displayname="+data[i].careGiverId+" id="+data[i].careGiverId+" ondblclick='preview(this.id)'><td>"
								+ data[i].patientName+ "</td><td>"	+ data[i].careGiverName+ "</td><td>"	+ data[i].mobileNo+ "/"+data[i].careGiverMobileNo+"</td><td>"+ data[i].relationshipWithPatient+ "</td><td>"+ data[i].nextFollowUpDate+ "</td><td>"+ data[i].priority+ "</td></tr>"
		        		}
		        		  $('#tableBody1').empty();
			        		$('#tableBody1').append(html);
			        		$('#tableData').hide();
			        		$('#tableData1').show();
			        		$('#pagination-demo').hide(); 
		        	return total;
		        	}else{
		        		alert('incorrect search')
		        	}
		        },
		           error: function(e) {
			        }
		        	
		});
	}
	
});

});	

function preview(id){
	
	var testdata1="24/13/G5/6068";
	
	$("#wrapper").css("display", "none");
	
	$.ajax({
        type: "POST",
        encoding:"UTF-8",
        url: "./rest/patientInfo/getcareGiverById",
        contentType: "application/json;charset=utf-8",
      	dataType: "json",
        data: "{\"id\":\""+id+"\"}",
         headers: {
		        "X-Authorization": "",
		        "code": "xyz",
		        "requestType":"web"
		    }, 
        success: function(data) {
        	if(data.success){
        		 
        		
        		$('[name=placeOfVisit1]').html('')
        		var placeOfVisit1="";
        		if(data.patient[0].otherPlaceOfVisit!=undefined && data.patient[0].otherPlaceOfVisit!="" ){
					placeOfVisit1=data.patient[0].otherPlaceOfVisit;
        		}else{
        			placeOfVisit1=data.patient[0].placeOfVisit;
        		}
        		$('[name=placeOfVisit1]').html(placeOfVisit1)
        		
        		$('#sakshamPatientId1').html('')
        		$('#sakshamPatientId1').html(((data.patient[0].sakshamPatientId==undefined)?"":data.patient[0].sakshamPatientId));
    			$('#name1').html(((data.patient[0].name==undefined)?"":data.patient[0].name)  );
    			$('#patientName1').html(((data.patient[0].patientName==undefined)?"":data.patient[0].patientName) );
    			$('#relationshipWithPatient1').html( ((data.patient[0].relationshipWithPatient==undefined)?"":data.patient[0].relationshipWithPatient) );
    			$('#mobile1').html( ((data.patient[0].mobile==undefined)?"":data.patient[0].mobile) );
    			$('#age1').html( ((data.patient[0].age==undefined)?"":data.patient[0].age)  );
    			
    			$('[name=careGiverCouncelingTopics_text1]').html(((data.patient[0].otherCaregiverCouncelingTopics==undefined)?"":data.patient[0].otherCaregiverCouncelingTopics));
    			$('#remarks1').html(  ((data.patient[0].counsellorRemarks==undefined)?"":data.patient[0].counsellorRemarks) );
    			
    			$('#OrganAffected1').html( ((data.patient[0].OrganAffected==undefined)?"":data.patient[0].OrganAffected)  );
    			
    			$('#gender1').html( ((data.patient[0].gender==undefined)?"":data.patient[0].gender)  );
    			$('#hasHistoryTBSymptoms1').html(((data.patient[0].hasHistoryTBSymptoms==undefined)?"No":(data.patient[0].hasHistoryTBSymptoms==false)?"No":"Yes") );
    			$('#tbType1').html( ((data.patient[0].tbType==undefined)?"":data.patient[0].tbType)  );
    			$('#tbStatus1').html( ((data.patient[0].tbStatus==undefined)?"":data.patient[0].tbStatus)  );
    			$('#OrganAffected1').html( ((data.patient[0].organAffected==undefined)?"":data.patient[0].organAffected)  );
    			$('#treatmentOutcome1').html( ((data.patient[0].treatmentOutcome==undefined)?"":data.patient[0].treatmentOutcome)  );
    			
    			$('#nextFollowUpDate1').html(((data.patient[0].nextFollowUpDate==undefined)?"":data.patient[0].nextFollowUpDate));
    			$('#commentsByCounselor1').html(((data.patient[0].commentsByCounselor==undefined)?"":data.patient[0].commentsByCounselor));
    			$('#councelorName1').html(((data.patient[0].councelorName==undefined)?"":data.patient[0].councelorName));
    			 $('#careGiverCouncelingTopics1').html(((data.patient[0].careGiverCouncelingTopics==undefined)?"":data.patient[0].careGiverCouncelingTopics));
    			$('#historyCareGiverSubstance1').html(((data.patient[0].historyCareGiverSubstance==undefined)?"":data.patient[0].historyCareGiverSubstance));
    			$('#otherHistoryPatientSubstance1').html(((data.patient[0].otherHistoryPatientSubstance==undefined)?"":data.patient[0].otherHistoryPatientSubstance) ),
    			$('#otherHistoryCareGiverSubstance1').html(((data.patient[0].otherHistoryCareGiverSubstance==undefined)?"":data.patient[0].otherHistoryCareGiverSubstance) ),
    			$('#historyPatientSubstance1').html(((data.patient[0].historyPatientSubstance==undefined)?"":data.patient[0].historyPatientSubstance) );
    			$('#consentForCouseling1').html(((data.patient[0].consentForCouseling==undefined)?"No":(data.patient[0].consentForCouseling==false)?"No":"Yes") );	
    			 $('#contentToReceiveSMS1').html(((data.patient[0].contentToReceiveSMS==undefined)?"No":(data.patient[0].contentToReceiveSMS==false)?"No":"Yes") );
    			 $('#shareDetails1').html(((data.patient[0].shareDetails==undefined)?"No":(data.patient[0].shareDetails==false)?"No":"Yes") );
    			 $('[name=regDate]').html(((data.patient[0].careGiverRegDate==undefined)?"":data.patient[0].careGiverRegDate));
        	 
    			 
        	document.getElementById('popup').style.display = "block";
        		
        	}
        	
        	
        },
           error: function(e) {
        }
    });  
    
}



function alert(dataAlert,title){
	
	title=((title!=undefined)?title:"Alert...!!!")	
		
		$.alert({
		    title: title,
		    content: dataAlert,
		});
		
	}
</script>
</html>
